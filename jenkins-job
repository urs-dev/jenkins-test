#!/usr/bin/env groovy
echo 'Job build by: ${env.USERNAME}'
echo ">>> ${env.BUILD_ID} :: ${env.JOB_NAME} :: ${env.JENKINS_URL}"

echo '------------------------------------------------'
echo "BUILD_NUMBER"  $BUILD_NUMBER
echo "BUILD_ID"  $BUILD_ID
echo "BUILD_DISPLAY_NAME"  $BUILD_DISPLAY_NAME
echo "JOB_NAME"  $JOB_NAME
echo "JOB_BASE_NAME"  $JOB_BASE_NAME
echo "BUILD_TAG"  $BUILD_TAG
echo "EXECUTOR_NUMBER"  $EXECUTOR_NUMBER
echo "NODE_NAME"  $NODE_NAME
echo "NODE_LABELS"  $NODE_LABELS
echo "WORKSPACE"  $WORKSPACE
echo "JENKINS_HOME"  $JENKINS_HOME
echo "JENKINS_URL"  $JENKINS_URL
echo "BUILD_URL" $BUILD_URL
echo "JOB_URL"  $JOB_URL
echo '------------------------------------------------'

pipeline {
    agent any

    stages {
        stage('xxxx') {
            steps {
                echo 'Building..'
                // copy Job-1
                //  def src = new File('c:/temp/src.zip')
                //  def dst = new File('c:/temp/dst.zip')
                //  dst << src.bytes
            }
        }
        stage('deploy') {
            steps {
                echo 'deploy to run environent ...'
            }
        }
        stage('run tasks') {
            steps {
                echo 'run tasks ...'
            }
        }
    }
}

echo "------------------------------------------------------------------"
echo "Job finished: ${env.BUILD_ID} on ${env.JENKINS_URL}"
